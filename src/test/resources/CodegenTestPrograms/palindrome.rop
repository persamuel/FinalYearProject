int stringlength(char[] s);
char[] reverse(char[] s);
boolean stringequal(char[] s1, char[] s2);
boolean palindrome(char[] s);

/* The output on stdout should be True if the input is a palindrome
 */
int main(int argc, char[][] argv) {
    print(palindrome(argv[0]));
    return 0;
}

boolean palindrome(char[] s) {
    boolean result;
    char[] tmp;

    tmp = reverse(s);
    result = stringequal(s, tmp);

    free tmp;

    return result;
}

boolean stringequal(char[] s1, char[] s2) {
    int n;
    int m;
    int i;
    boolean x;

    n = strlen(s1);
    m = strlen(s2);

    if (m == n) {
        x = true;
        i = 0;
        while (x && i < n) {
            if (s1[i] != s2[i])
                x = false;
            else
                i = i; // Do nothing
            i = i + 1;
        }
    } else {
        x = false;
    }

    return x;
}

int stringlength(char[] s) {
    int i;

    i = 0;
    while (s[i] != '\0') {
        i = i + 1;
    }

    return i;
}

char[] reverse(char[] s) {
    char[] tmp;
    int n;
    int i;
    int j;

    n = stringlength(s);
    tmp = new char[n + 1];

    j = 0;
    i = n;
    while (i >= 0) {
        tmp[j] = s[i];
        j = j + 1;
        i = i - 1;
    }

    return tmp;
}